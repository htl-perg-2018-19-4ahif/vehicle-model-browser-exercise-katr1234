<h2>Models Page</h2>
<!--
<p>Year:</p>
<select>
  <option *ngFor = 'let year of years'>{{ year }}</option>
</select>
<p>Make:</p>
<select>
  <option *ngFor = 'let make of makes'>{{ make }}</option>
</select>

<br> <br> <br>
-->
<mat-form-field>
  <mat-label>year</mat-label>
  <mat-select [(value)]="year" (valueChange)="loadVehicleList()">
    <mat-option *ngFor="let year of yearList" [value]="year">
      {{year}}
    </mat-option>
  </mat-select>
</mat-form-field>
<mat-form-field>
    <mat-label>make</mat-label>
    <mat-select [(value)]="make" (valueChange)="loadVehicleList()">
      <mat-option *ngFor="let make of makeList" [value]="make">
        {{make}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field>
      <mat-label>fuel</mat-label>
      <mat-select [(value)]="fuel" (valueChange)="loadVehicleList()">
        <mat-option *ngFor="let fuel of fuelList" [value]="fuel.id">
          {{fuel.description}}
        </mat-option>
      </mat-select>
    </mat-form-field>

  <button (click)="loadVehicleList()" mat-button>Refresh</button>


<table mat-table style='width: 100%' [dataSource]='vehicles'>

  <ng-container matColumnDef='id'>
    <th mat-header-cell *matHeaderCellDef>id</th>
    <td mat-cell *matCellDef='let vehicle'>{{vehicle.id}} </td>
  </ng-container>

  <ng-container matColumnDef='year'>
    <th mat-header-cell *matHeaderCellDef>year</th>
    <td mat-cell *matCellDef='let vehicle'>{{vehicle.year}} </td>
  </ng-container>

  <ng-container matColumnDef='make'>
    <th mat-header-cell *matHeaderCellDef>make</th>
    <td mat-cell *matCellDef='let vehicle'>{{vehicle.make}} </td>
  </ng-container>

  <ng-container matColumnDef='model'>
    <th mat-header-cell *matHeaderCellDef>model</th>
    <td mat-cell *matCellDef='let vehicle'>{{vehicle.model}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<br>
<button mat-button [disabled]='offset == 0' (click)='previous()'>previous page</button>
<button (click)='next()'>next page</button>
</mat-card>

<button (onClick)="refresh()">Refresh</button>